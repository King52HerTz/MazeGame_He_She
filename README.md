# 《时光遗落的寻忆之旅》· QT迷宫游戏大作业

> **莫道桑榆晚，为霞尚满天。**  
> 这是一份用 C++/QT 写成的课程设计——一个试图把言情剧情、迷宫闯关和一点点少年心事都装进代码里的游戏。

---

## 🧭 这是什么？

一个不止是迷宫的游戏。  
我们用 QT 做了 8 个章节，每关迷宫都连着一小段关于"记忆与时间"的故事。你可以闯关，也可以自己设计迷宫挑战。  
它不算完美，但确是我们从无到有、一行行写完的课程作品。

完整的设计思路、界面演示和技术实现，可在仓库中找到 **课程答辩PPT**。

---

## ✨ 游戏里有什么？

- **📖 剧情章节**：8 个迷宫，难度递增，每个都附带一段文字剧情
- **🧱 自定义模式**：迷宫大小从 10 到 100，自由设定
- **🔐 登录与存档**：基于 SQLite，记录你的进度与成就
- **🏆 收集要素**：通关后可获得章节纪念物品
- **🎵 背景音乐**：支持播放/暂停，随界面切换
- **🖼️ 多页面导航**：登录、主菜单、设置、剧情回顾...全部用 QT 实现

---

## 🛠️ 技术是怎么做的？

### 迷宫生成
- **DFS** 生成主干路径
- **BFS** 验证连通性  
- 随机打破墙壁，增加分支与可玩性

### 界面与资源
- 所有窗口基于 **QT Widgets** 开发
- 图片、音乐使用 `.qrc` 资源文件统一管理
- 背景图片随窗口大小自适应缩放

### 数据库配置
游戏使用 **SQLite** 数据库存储用户账号信息，数据库文件路径在代码中配置为：
```cpp
const QString DB_PATH = "C:/Users/Administrator/Documents/He_She/login/game.db";
```

初始预置了以下测试账号（使用 Navicat Premium 管理）：
| id | username | password    |
|----|----------|-------------|
| 1  | 张三     | test123     |
| 2  | 李四     | test456     |
| 3  | 王五     | test789     |
| 4  | 赵六     | test10086   |

> **注意**：在其他电脑上运行时，请根据实际情况修改数据库文件路径。

### 遇到的主要问题
1. 资源加载路径错误 → 规范资源目录，使用 `QResource` 系统  
2. 迷宫路径过于单一 → 随机破墙 + 实时连通性检查  
3. 数据库连接失败 → 封装独立工具类管理连接  
4. 窗口拉伸变形 → 监听 resize 事件，动态调整布局

---

## 🚀 如何运行？

1. **环境要求**：**QT5** 及以上、C++11
2. **数据库准备**：
   - 确保 SQLite 支持已安装
   - 根据你的电脑路径修改代码中的数据库文件路径：
     ```cpp
     const QString DB_PATH = "你的路径/game.db";
     ```
   - 或使用提供的 SQL 文件重新创建数据库
3. 克隆仓库后，使用 **QT Creator** 打开 `.pro` 工程文件
4. 编译并运行即可

> 如遇资源无法加载，请检查 `resources.qrc` 中的路径配置。

---

## 💡 写在最后

这不仅仅是一份作业，也是我们第一次尝试把"故事"写进代码里。  
迷宫会走完，剧情能看到结局，但那些调试到深夜的时光、一次次跑通逻辑的瞬间，或许比游戏本身更值得记住。

代码或许生涩，但诚意都在里面。  
若你恰好路过，不妨玩一玩，看看这些文字和迷宫背后，我们未曾明说的少年心意。

> 迷宫深处，时光可溯；代码行间，皆是序章。
